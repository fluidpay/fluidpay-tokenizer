{"version":3,"file":"js/401.9541a41c.js","mappings":"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","sources":["webpack://fluidpay-tokenizer/./src/docs/helpers/testkeys.ts","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://fluidpay-tokenizer/./src/tokenizer/index.ts","webpack://fluidpay-tokenizer/./src/docs/pages/styles.vue?5e0f","webpack://fluidpay-tokenizer/./src/docs/pages/styles.vue?b2f0","webpack://fluidpay-tokenizer/./src/docs/pages/styles.vue"],"sourcesContent":["export const testapikey = 'pub_0wUsHIlrkK1I6ADno5MfT10UjhR' // Use test api key. Note: is generated for local development\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import { AutoPayResult, Settings } from \"./types\";\n\nexport interface Constructor {\n  url?: string\n  apikey: string\n  amount?: string\n  container: Element | string | null\n\n  // Callbacks\n  onLoad?: () => void\n  onPaymentChange?: (type: string) => void\n  validCard?: (valid: boolean) => void\n  achOnChange?: (data: any) => void\n  magStripeSwipe?: (data: any) => void\n  submission: (response: any) => void\n\n  settings?: Settings\n}\n\nexport interface GuardianData {\n  events: Record<string, unknown>[]\n  session_id: string\n}\n\nexport interface Message {\n  id?: string\n  event: string\n  data: {[key: string]: any}\n}\n\nconst url = '{{formUrl}}'\nconst localDevUrl: string = 'http://localhost:8082'\nconst pathUrl: string = '/api/tokenizer'\n\nexport default class Tokenizer {\n  public id: string\n  public apikey: string\n\n  public url: string\n  public amount: string | undefined\n\n  public iframe: HTMLIFrameElement\n  public container: Element | null = null\n  public settings: Settings = { id: '', apikey: '', amount: '' }\n\n  private applePay = {\n    btn: null as HTMLElement | null,\n  }\n\n  constructor (info: Constructor) {\n    // Make sure apikey is set\n    if (!info.apikey) { throw new Error('apikey must be set!') }\n    this.apikey = info.apikey\n\n    // Set url\n    this.url = (info.url && info.url !== '' ? info.url : url) // Use constructor url passed, or default url var\n\n    // set amount\n    if (info.amount) {\n      this.amount = info.amount\n    }\n\n    // Set values\n    this.id = this.uuid()\n    if (typeof info.settings === 'object') {\n      this.settings = info.settings\n    }\n\n    // Set callbacks\n    if (info.onLoad) { this.onLoad = info.onLoad }\n    if (info.validCard) { this.validCard = info.validCard }\n    if (info.achOnChange) { this.achOnChange = info.achOnChange }\n    if (info.magStripeSwipe) { this.magStripeSwipe = info.magStripeSwipe }\n    if (info.onPaymentChange) { this.onPaymentChange = info.onPaymentChange }\n    if (info.submission) { this.submission = info.submission }\n\n    window.addEventListener('message', (e: any) => { this.messageListener(e) })\n\n    this.iframe = this.buildIframe()\n    this.waitForContainer(info.container, (el: Element | null) => {\n      // Check if element is in the DOM\n      if (!el) {\n        throw new Error('Could not find container')\n        return\n      }\n\n      // Add onload to iframe\n      this.iframe.onload = () => {\n        // Send settings to iframe\n        this.settings.id = this.id\n        this.settings.apikey = this.apikey\n        this.settings.amount = this.amount\n        this.setSettings(this.settings)\n        this.onLoad() // Call on load\n      }\n      // Add iframe\n      this.container = el\n      this.container.appendChild(this.iframe)\n      this.initApplePay(el)\n    })\n  }\n\n  // Only here because it used originally here from the begining\n  // DO NOT REMOVE, some clients still call create even though it doesnt do anything anymore.\n  public create () { }\n\n  private getApiKeyURL(): string {\n    return this.getTokenizerURL() + '/' + this.apikey\n  }\n\n  private getTokenizerURL(): string {\n    const urlPrefix = this.url\n    if (window.location.href.includes('localhost')) {\n      return localDevUrl.replace(/\\/$/, '') + pathUrl\n    } else {\n      return urlPrefix.replace(/\\/$/, '') + pathUrl\n    }\n  }\n\n  private initApplePay(container: Element) : void {\n    if (!this.settings?.payment?.types?.includes('apple_pay') && !this.settings?.payment?.applePay) {\n      return\n    }\n\n    document.head.insertAdjacentHTML('beforeend', `\n    <style>\n      apple-pay-button {\n          --apple-pay-button-width: 100%;\n          --apple-pay-button-height: 20px;\n          border-radius: 4px;\n          border: solid 1px #DCDEE2;\n      }\n    </style>\n    `)\n\n    const applePayScript = document.createElement('script')\n    const applePaySDKUrl = 'https://applepay.cdn-apple.com/jsapi/v1.1.0/apple-pay-sdk.js'\n    applePayScript.setAttribute('src', applePaySDKUrl)\n    applePayScript.setAttribute('async', '')\n    applePayScript.setAttribute('crossorigin', '')\n    document.head.appendChild(applePayScript)\n    this.populateApplePayBtn(container)\n  }\n\n  private populateApplePayBtn(container: Element) {\n    this.applePay.btn = document.createElement('apple-pay-button');\n    this.applePay.btn.setAttribute('buttonstyle', 'white')\n    this.applePay.btn.setAttribute('type', 'pay')\n    this.applePay.btn.setAttribute('locale', 'en-US')\n    this.applePay.btn.onclick = this.clickApplePay\n    container.appendChild(this.applePay.btn)\n  }\n\n  private clickApplePay = () => {\n    if (!ApplePaySession) {\n      console.warn('Apple Pay is not available')\n      return;\n    }\n    const applePayConfig = this.settings?.payment?.applePay\n    if (!applePayConfig) {\n      console.error('Apple Pay is missing from configuration')\n      return;\n    }\n\n    // Create ApplePaySession\n    const defaultSupportedNetworks = [\n      'amex', 'chinaUnionPay', 'discover', 'interac', 'masterCard', 'privateLabel', 'visa', // v1\n      'jcb', // v2\n      'cartesBancaires', 'eftpos', 'electron', 'elo', 'maestro', 'vPay', // v4\n      'mada' // v5\n    ];\n    const session = new ApplePaySession(applePayConfig.version || 5, {\n      countryCode: applePayConfig.payment.countryCode,\n      currencyCode: applePayConfig.payment.currencyCode,\n      total: applePayConfig.payment.total,\n      // optional params with default values\n      merchantCapabilities: applePayConfig.payment.merchantCapabilities || ['supports3DS'],\n      supportedNetworks: applePayConfig.payment.supportedNetworks || defaultSupportedNetworks,\n      // optional params\n      supportedCountries: applePayConfig.payment.supportedCountries,\n      lineItems: applePayConfig.payment.lineItems,\n      requiredBillingContactFields: applePayConfig.payment.requiredBillingContactFields,\n      requiredShippingContactFields: applePayConfig.payment.requiredShippingContactFields,\n    });\n\n    session.onvalidatemerchant = async (event) => {\n      fetch(`${this.url}/api/public/applepay/validatemerchant`, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          PKeyCompany: applePayConfig.key,\n          AppleMerchantId: applePayConfig.appleMerchantID,\n          ValidationUrl: event.validationURL,\n          domainName: applePayConfig.domainName\n        })\n      })\n        .then(data => data.json())\n        .then(data => session.completeMerchantValidation(data))\n        .catch(() => {\n          console.error('merchant validation failed')\n          session.completeMerchantValidation({error: 'merchant validation failed'})\n        })\n    };\n\n    session.onpaymentauthorized = (event) => {\n      // Define ApplePayPaymentAuthorizationResult\n      applePayConfig.autoPay(event).then((msg: AutoPayResult) => {\n        this.submission({\n          status: msg,\n        })\n        if (msg === 'success') {\n          session.completePayment(ApplePaySession.STATUS_SUCCESS);\n        } else {\n          session.completePayment(ApplePaySession.STATUS_FAILURE);\n        }\n      }).catch(() => {\n        session.completePayment(ApplePaySession.STATUS_FAILURE);\n      })\n    };\n\n    try {\n      session.begin();\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  // hideAutoPayButtons is hiding ApplePay and Google Pay's \"Pay\" buttons\n  private hideAutoPayButtons(type: string) {\n    if (type !== '' && type !== 'apple_pay') {\n      this.applePay.btn?.remove()\n      this.applePay.btn = null\n    } else {\n      this.waitForContainer(this.container, (el: Element | null) => {\n        if (!el) {\n          return\n        }\n        if (!this.applePay.btn) {\n          this.populateApplePayBtn(el)\n        }\n      })\n    }\n  }\n\n  // Check if state is surchargeable, pretty primative but works for now\n  public isSurchargeable (state: string, bin: {card_type: string}): boolean {\n    const blacklist = ['CO', 'CT', 'ME', 'MA']\n    if (state === '') { return false }\n    if (blacklist.indexOf(state.toUpperCase()) !== -1) { return false }\n    if (!bin || !bin.card_type || bin.card_type.toLowerCase() !== 'credit') { return false }\n    return true\n  }\n\n  // Post message to iframe\n  public submit (amount?: string) {\n    // If there is guardian data send data to iframe\n    this.getGuardianData().then((guardianResult) => {\n      if (guardianResult.events?.length) {\n        this.postMessage({\n          event: 'setGuardian',\n          data: guardianResult\n        })\n      }\n    }).then(() => {\n      this.postMessage({\n        event: 'submit',\n        data: { amount: amount }\n      })\n    }).catch(() => {\n      this.postMessage({\n        event: 'submit',\n        data: { amount: amount }\n      })\n    })\n  }\n\n  // Pass exp date to be set inside form\n  public setExpDate (expDate: string) {\n    this.postMessage({\n      event: 'setExpDate',\n      data: { value: expDate }\n    })\n  }\n\n  public setError(input: string) {\n    this.postMessage({\n      event: 'setError',\n      data: { input: input }\n    })\n  }\n\n  // Communicate back to child\n  public postMessage (msg: Message): void {\n    const w = this.iframe.contentWindow\n    if (w !== null) {\n      const data = JSON.stringify(msg)\n      w.postMessage(data, '*')\n    }\n  }\n\n  public onLoad: () => void = () => {}\n  public validCard: (card: any) => void = () => {}\n  public achOnChange: (data: any) => void = () => {}\n  public magStripeSwipe: (data: any) => void = () => {}\n  public onPaymentChange: (type: string) => void = () => {}\n  public submission: (response: any) => void = () => {}\n  public errorPass: (response: string) => void = () => {}\n\n  private uuid (): string {\n    function s4 () { return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1) }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4()\n  }\n\n  private waitForContainer(selector: Element | string | null, callback: (el: Element | null) => void) {\n    if (!selector) {\n      callback(null)\n      return\n    }\n\n    const startTimeInMs = Date.now();\n    const checkFrequencyInMs = 1000;\n    const timeoutInMs = 10000;\n\n    (function loopSearch() {\n      if (typeof selector === 'string' && document.querySelector(selector) !== null) {\n        callback(document.querySelector(selector))\n        return\n      } else if (typeof selector !== 'string' && selector) {\n        callback(selector)\n        return\n      } else {\n        setTimeout(() => {\n          if (timeoutInMs && Date.now() - startTimeInMs > timeoutInMs) {\n            callback(null)\n            return\n          }\n          loopSearch()\n        }, checkFrequencyInMs)\n      }\n    })()\n  }\n\n  private buildIframe (): HTMLIFrameElement {\n    const iframe = document.createElement('iframe')\n    iframe.src = this.getApiKeyURL()\n\n    // Set allow payment request\n    iframe.setAttribute('allow', 'payment')\n\n    // Style\n    iframe.style.display = 'block'\n    iframe.style.border = 'none'\n    iframe.style.margin = '0px'\n    iframe.style.padding = '0px'\n    iframe.style.width = '1px'\n    iframe.style.minWidth = '100%'\n    iframe.style.height = '30px'\n    iframe.style.overflow = 'hidden'\n    iframe.style.backgroundColor = 'transparent'\n    iframe.style.transition = 'all .3s ease-out'\n\n    // Attributes\n    iframe.frameBorder = '0'\n\n    return iframe\n  }\n\n  private setSettings (settings: Settings) {\n    this.postMessage({\n      event: 'setSettings',\n      data: settings\n    })\n  }\n\n  private updateHeight (height: string) {\n    if (height) {\n      this.iframe.style.height = height + 'px'\n    }\n  }\n\n  private getGuardianData (): Promise<GuardianData> {\n    const g = (window as {Guardian?: unknown}).Guardian as {getData?: () => Promise<GuardianData>}\n    if (g && g.getData && typeof g.getData === 'function') {\n      return g.getData()\n    }\n    return Promise.reject()\n  }\n\n  private messageListener (e: MessageEvent) {\n    try {\n      const msg: Message = JSON.parse(e.data)\n      const id = msg.id\n      if (this.id !== id) { return } // Validate messages are communicating on the same id\n      const event = msg.event\n      const data = msg.data\n      if (!event) { return }\n\n      switch (event) {\n        case 'submission':\n          this.submission(data)\n          break\n        case 'validCard':\n          this.validCard(data)\n          break\n        case 'achOnChange':\n          this.achOnChange(data)\n          break\n        case 'magStripeSwipe':\n          this.magStripeSwipe(data)\n          break\n        case 'onPaymentChange':\n          this.onPaymentChange(data.type)\n          this.hideAutoPayButtons(data.type)\n          break\n        case 'setHeight':\n          this.updateHeight(data.height)\n          break\n      }\n    } catch (e) {\n\n    }\n  }\n}\n","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"main styled\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"pre\", { class: \"example-code\" }, [\n  /*#__PURE__*/_createTextVNode(\"      \"),\n  /*#__PURE__*/_createElementVNode(\"code\", { class: \"language-javascript\" }, \"\\n        // Example Code\\n        var example = new Tokenizer({\\n          apikey: 'key here',\\n          container: document.querySelector('#div container'),\\n          submission: (resp) => {\\n            console.log(resp)\\n          },\\n          settings: {\\n            // Styles object will get converted into a css style sheet.\\n            // Inspect elements to see structured html elements\\n            // and style them the same way you would in css.\\n            styles: {\\n              'body': {\\n                'color': '#ffffff'\\n              },\\n              'input': {\\n                'color': '#ffffff',\\n                'border-radius': '8px',\\n                'background-color': '#ffffff40',\\n                'border': 'none'\\n              },\\n\\n              // Example - style cvv to have full border box\\n              '.payment .cvv input': {\\n                'border': 'solid 1px #ffffff',\\n                'padding-left': '6px'\\n              }\\n            }\\n          }\\n        })\\n      \"),\n  /*#__PURE__*/_createTextVNode(\"\\n    \")\n], -1)\nconst _hoisted_3 = { class: \"section exampleBubble\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"exampleBubble\" }, null, -1)\nconst _hoisted_5 = { class: \"section exampleLine\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"exampleLine\" }, null, -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.exampleBubble.submit()))\n      }, \" Pay \"),\n      _createElementVNode(\"pre\", null, _toDisplayString(_ctx.exampleBubbleResponse), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _hoisted_6,\n      _createElementVNode(\"button\", {\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.exampleLine.submit()))\n      }, \" Pay \"),\n      _createElementVNode(\"pre\", null, _toDisplayString(_ctx.exampleLineResponse), 1)\n    ])\n  ]))\n}","\nimport { defineComponent } from 'vue'\nimport Tokenizer from '@/tokenizer'\nimport { testapikey } from '@/docs/helpers/testkeys'\n\nexport default defineComponent({\n  name: 'Styles',\n  data () {\n    return {\n      exampleBubble: (null as any),\n      exampleBubbleResponse: '',\n\n      exampleLine: (null as any),\n      exampleLineResponse: ''\n    }\n  },\n  mounted () {\n    this.exampleBubble = new Tokenizer({\n      apikey: testapikey,\n      container: document.querySelector('#exampleBubble') as HTMLDivElement,\n      submission: (resp: any) => {\n        this.exampleBubbleResponse = resp\n      },\n      settings: {\n        styles: {\n          body: {\n            color: '#ffffff'\n          },\n          input: {\n            color: '#ffffff',\n            'border-radius': '8px',\n            'background-color': 'rgba(255, 255, 255, .2)',\n            border: 'none'\n          }\n        }\n\n        // Oleg - mywell styles - Oct 31, 2023\n        // styles: {\n        //   \"#app\": {\n        //     padding: \"5px 15px\",\n        //   },\n        //   select: {\n        //     padding: \"6px 4px\",\n        //   },\n        //   \".fieldsetrow\": {\n        //     padding: \"0 0 10px\",\n        //   },\n        //   \".card > .fieldset\": {\n        //     padding: \"0 !important\",\n        //     margin: \"0 2.5px 5px !important\",\n        //   },\n        //   \".ach .fieldsetrow\": {\n        //     \"flex-wrap\": \"wrap-reverse\",\n        //     \"flex-direction\": \"row-reverse\",\n        //     \"justify-content\": \"center\",\n        //     width: \"auto\",\n        //   },\n        //   \".fieldsetgroup\": {\n        //     flex: \"1\",\n        //   },\n        //   \".ach .account\": {\n        //     padding: \"0 5px 0 5px !important\",\n        //   },\n        //   \".ach .fieldsetrow .type\": {\n        //     flex: \"none !important\",\n        //   },\n        //   \"@media(max-width: 531px)\": {\n        //     \".ach .fieldsetrow .account\": {\n        //       padding: \" 0!important\",\n        //       flex: \"1 1 auto\",\n        //     },\n        //   },\n        // },\n\n        \n      }\n    })\n\n    this.exampleLine = new Tokenizer({\n      apikey: testapikey,\n      container: document.querySelector('#exampleLine') as HTMLDivElement,\n      submission: (resp: any) => {\n        this.exampleLineResponse = resp\n      },\n      settings: {\n        styles: {\n          body: {\n            color: '#ffffff'\n          },\n          input: {\n            color: '#ffffff',\n            'padding-left': '0px',\n            'border-radius': '0px',\n            border: 'none',\n            'border-bottom': 'solid 1px #ffffff',\n            'background-color': '#525f7f'\n          },\n          '.payment .cvv input': {\n            border: 'solid 1px #ffffff',\n            'padding-left': '6px'\n          },\n          \"@media (max-width: 768px)\": {\n            \"#tokenizer-form\": {\n              background: \"blue\",\n            },\n          },\n        }\n      }\n    })\n  }\n})\n","import { render } from \"./styles.vue?vue&type=template&id=587de264&ts=true\"\nimport script from \"./styles.vue?vue&type=script&lang=ts\"\nexport * from \"./styles.vue?vue&type=script&lang=ts\"\n\nimport \"./styles.vue?vue&type=style&index=0&id=587de264&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["testapikey","_typeof","o","Symbol","iterator","constructor","prototype","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPropertyKey","arg","key","_defineProperty","obj","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","url","localDevUrl","pathUrl","Tokenizer","info","id","apikey","amount","btn","ApplePaySession","console","warn","applePayConfig","this","settings","payment","applePay","error","defaultSupportedNetworks","session","version","countryCode","currencyCode","total","merchantCapabilities","supportedNetworks","supportedCountries","lineItems","requiredBillingContactFields","requiredShippingContactFields","onvalidatemerchant","async","fetch","method","headers","body","JSON","stringify","PKeyCompany","AppleMerchantId","appleMerchantID","ValidationUrl","event","validationURL","domainName","then","data","json","completeMerchantValidation","catch","onpaymentauthorized","autoPay","msg","submission","status","completePayment","STATUS_SUCCESS","STATUS_FAILURE","begin","e","Error","uuid","onLoad","validCard","achOnChange","magStripeSwipe","onPaymentChange","window","addEventListener","messageListener","iframe","buildIframe","waitForContainer","container","el","onload","setSettings","appendChild","initApplePay","create","getApiKeyURL","getTokenizerURL","urlPrefix","location","href","includes","replace","types","document","head","insertAdjacentHTML","applePayScript","createElement","applePaySDKUrl","setAttribute","populateApplePayBtn","onclick","clickApplePay","hideAutoPayButtons","type","remove","isSurchargeable","state","bin","blacklist","indexOf","toUpperCase","card_type","toLowerCase","submit","getGuardianData","guardianResult","events","length","postMessage","setExpDate","expDate","setError","w","contentWindow","s4","Math","floor","random","toString","substring","selector","callback","startTimeInMs","Date","now","checkFrequencyInMs","timeoutInMs","loopSearch","querySelector","setTimeout","src","style","display","border","margin","padding","width","minWidth","height","overflow","backgroundColor","transition","frameBorder","updateHeight","g","Guardian","getData","Promise","reject","parse","_hoisted_1","class","_hoisted_2","_createElementVNode","_createTextVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","onClick","$event","exampleBubble","_toDisplayString","exampleBubbleResponse","exampleLine","exampleLineResponse","defineComponent","name","mounted","resp","styles","color","background","__exports__"],"sourceRoot":""}