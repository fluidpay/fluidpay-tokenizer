{"version":3,"file":"js/561.96d4ea10.js","mappings":"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","sources":["webpack://fluidpay-tokenizer/./src/docs/helpers/testkeys.ts","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://fluidpay-tokenizer/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://fluidpay-tokenizer/./src/tokenizer/index.ts","webpack://fluidpay-tokenizer/./src/docs/pages/methods.vue?996b","webpack://fluidpay-tokenizer/./src/docs/pages/methods.vue?9bb6","webpack://fluidpay-tokenizer/./src/docs/pages/methods.vue"],"sourcesContent":["export const testapikey = 'pub_0wUsHIlrkK1I6ADno5MfT10UjhR' // Use test api key. Note: is generated for local development\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export interface Settings {\n  [key: string]: any\n}\n\nexport interface Constructor {\n  url?: string\n  apikey: string\n  amount?: string\n  container: Element | string | null\n\n  // Callbacks\n  onLoad?: () => void\n  onPaymentChange?: (type: string) => void\n  validCard?: (valid: boolean) => void\n  achOnChange?: (data: any) => void\n  magStripeSwipe?: (data: any) => void\n  submission: (response: any) => void\n\n  settings?: {[key: string]: any}\n}\n\nexport interface GuardianData {\n  events: Record<string, unknown>[]\n  session_id: string\n}\n\nexport interface Message {\n  id?: string\n  event: string\n  data: {[key: string]: any}\n}\n\nconst url = '{{formUrl}}'\nconst localDevUrl: string = 'http://localhost:8082'\nconst pathUrl: string = '/api/tokenizer'\n\nexport default class Tokenizer {\n  public id: string\n  public apikey: string\n\n  public url: string\n  public amount: string | undefined\n\n  public iframe: HTMLIFrameElement\n  public container: Element | null = null\n  public settings: Settings = { id: '', apikey: '', amount: '' }\n\n  constructor (info: Constructor) {\n    // Make sure apikey is set\n    if (!info.apikey) { throw new Error('apikey must be set!') }\n    this.apikey = info.apikey\n\n    // Set url\n    this.url = (info.url && info.url !== '' ? info.url : url) // Use constructor url passed, or default url var\n    if (!info.url && window.location.href.indexOf('localhost') !== -1) {\n      this.url = localDevUrl.replace(/\\/$/, '') + pathUrl\n    } else {\n      this.url = this.url.replace(/\\/$/, '') + pathUrl\n    }\n\n    // Add apikey to url\n    this.url += '/' + this.apikey\n\n    // set amount\n    if (info.amount) {\n      this.amount = info.amount\n    }\n\n    // Set values\n    this.id = this.uuid()\n    if (typeof info.settings === 'object') { this.settings = info.settings }\n\n    // Set callbacks\n    if (info.onLoad) { this.onLoad = info.onLoad }\n    if (info.validCard) { this.validCard = info.validCard }\n    if (info.achOnChange) { this.achOnChange = info.achOnChange }\n    if (info.magStripeSwipe) { this.magStripeSwipe = info.magStripeSwipe }\n    if (info.onPaymentChange) { this.onPaymentChange = info.onPaymentChange }\n    if (info.submission) { this.submission = info.submission }\n\n    window.addEventListener('message', (e: any) => { this.messageListener(e) })\n\n    this.iframe = this.buildIframe()\n    this.waitForContainer(info.container, (el: Element | null) => {\n      // Check if element is in the DOM\n      if (!el) {\n        throw new Error('Could not find container')\n        return\n      }\n\n      // Add onload to iframe\n      this.iframe.onload = () => {\n        // Send settings to iframe\n        this.settings.id = this.id\n        this.settings.apikey = this.apikey\n        this.settings.amount = this.amount\n        this.setSettings(this.settings)\n        this.onLoad() // Call on load\n      }\n\n      // Add iframe\n      this.container = el\n      this.container.appendChild(this.iframe)\n    })\n  }\n\n  // Only here because it used originally here from the begining\n  // DO NOT REMOVE, some clients still call create even though it doesnt do anything anymore.\n  public create () { }\n\n  public isSurchargeable (state: string, bin: {card_type: string}): boolean {\n    const blacklist = ['CO', 'CT', 'ME', 'MA']\n    if (state === '') { return false }\n    if (blacklist.indexOf(state.toUpperCase()) !== -1) { return false }\n    if (!bin || !bin.card_type || bin.card_type.toLowerCase() !== 'credit') { return false }\n    return true\n  }\n\n  // Post message to iframe\n  public submit (amount?: string) {\n    // If there is guardian data send data to iframe\n    this.getGuardianData().then((guardianResult) => {\n      if (guardianResult.events?.length) {\n        this.postMessage({\n          event: 'setGuardian',\n          data: guardianResult\n        })\n      }\n    }).then(() => {\n      this.postMessage({\n        event: 'submit',\n        data: { amount: amount }\n      })\n    }).catch(() => {\n      this.postMessage({\n        event: 'submit',\n        data: { amount: amount }\n      })\n    })\n  }\n\n  // Pass exp date to be set inside form\n  public setExpDate (expDate: string) {\n    this.postMessage({\n      event: 'setExpDate',\n      data: { value: expDate }\n    })\n  }\n\n  // Communicate back to child\n  public postMessage (msg: Message): void {\n    const w = this.iframe.contentWindow\n    if (w !== null) {\n      const data = JSON.stringify(msg)\n      w.postMessage(data, '*')\n    }\n  }\n\n  public onLoad: () => void = () => {}\n  public validCard: (card: any) => void = () => {}\n  public achOnChange: (data: any) => void = () => {}\n  public magStripeSwipe: (data: any) => void = () => {}\n  public onPaymentChange: (type: string) => void = () => {}\n  public submission: (response: any) => void = () => {}\n\n  private uuid (): string {\n    function s4 () { return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1) }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4()\n  }\n\n  private waitForContainer(selector: Element | string | null, callback: (el: Element | null) => void) {\n    if (!selector) {\n      callback(null)\n      return\n    }\n\n    const startTimeInMs = Date.now();\n    const checkFrequencyInMs = 1000;\n    const timeoutInMs = 10000;\n\n    (function loopSearch() {\n      if (typeof selector === 'string' && document.querySelector(selector) !== null) {\n        callback(document.querySelector(selector))\n        return\n      } else if (typeof selector !== 'string' && selector) {\n        callback(selector)\n        return\n      } else {\n        setTimeout(() => {\n          if (timeoutInMs && Date.now() - startTimeInMs > timeoutInMs) {\n            callback(null)\n            return\n          }\n          loopSearch()\n        }, checkFrequencyInMs)\n      }\n    })()\n  }\n\n  private buildIframe (): HTMLIFrameElement {\n    const iframe = document.createElement('iframe')\n    iframe.src = this.url\n\n    // Set allow payment request\n    iframe.setAttribute('allow', 'payment')\n\n    // Style\n    iframe.style.display = 'block'\n    iframe.style.border = 'none'\n    iframe.style.margin = '0px'\n    iframe.style.padding = '0px'\n    iframe.style.width = '1px'\n    iframe.style.minWidth = '100%'\n    iframe.style.height = '30px'\n    iframe.style.overflow = 'hidden'\n    iframe.style.backgroundColor = 'transparent'\n    iframe.style.transition = 'all .3s ease-out'\n\n    // Attributes\n    iframe.frameBorder = '0'\n\n    return iframe\n  }\n\n  private setSettings (settings: Settings) {\n    this.postMessage({\n      event: 'setSettings',\n      data: settings\n    })\n  }\n\n  private updateHeight (height: string) {\n    if (height) {\n      this.iframe.style.height = height + 'px'\n    }\n  }\n\n  private getGuardianData (): Promise<GuardianData> {\n    const g = (window as {Guardian?: unknown}).Guardian as {getData?: () => Promise<GuardianData>}\n    if (g && g.getData && typeof g.getData === 'function') {\n      return g.getData()\n    }\n    return Promise.reject()\n  }\n\n  private messageListener (e: MessageEvent) {\n    try {\n      const msg: Message = JSON.parse(e.data)\n      const id = msg.id\n      if (this.id !== id) { return } // Validate messages are communicating on the same id\n      const event = msg.event\n      const data = msg.data\n      if (!event) { return }\n\n      switch (event) {\n        case 'submission':\n          this.submission(data)\n          break\n        case 'validCard':\n          this.validCard(data)\n          break\n        case 'achOnChange':\n          this.achOnChange(data)\n          break\n        case 'magStripeSwipe':\n          this.magStripeSwipe(data)\n          break\n        case 'onPaymentChange':\n          this.onPaymentChange(data.type)\n          break\n        case 'setHeight':\n          this.updateHeight(data.height)\n          break\n      }\n    } catch (e) {\n\n    }\n  }\n}\n","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"main methods\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"pre\", null, [\n  /*#__PURE__*/_createTextVNode(\"      \"),\n  /*#__PURE__*/_createElementVNode(\"code\", { class: \"language-javascript\" }, \"\\n        // Example Code\\n        var example = new Tokenizer({\\n          url: '', // Optional - Only pass if using a different domain than your on\\n          apikey: 'key here',\\n          container: document.querySelector('#div container'),\\n\\n          // Callback to identify when iframe has been loaded\\n          onLoad: () => {\\n            console.log('iframe loaded')\\n          },\\n\\n          // Callback to identify when a valid cc has been inputed\\n          validCard: (card: object) => {\\n            console.log(card)\\n            // card.isValid // Boolean\\n            // card.bin // Object of bin data\\n\\n            // If you need to check if surchargable\\n            // Pass state and card bin data\\n            var isSurchargable = example.isSurchargeable(state, card.bin)\\n            console.log(isSurchargable)\\n          },\\n\\n          achOnChange: (data: any) => { console.log(data) },\\n          \\n          magStripeSwipe: (data: any) => { console.log(data) },\\n\\n          // Callback after payment was submitted\\n          submission: (resp) => {\\n            console.log(resp)\\n          }\\n        })\\n\\n        // Set expiration date on card payment\\n        example.setExpDate('09/12')\\n\\n        // Submit payment\\n        example.submit()\\n      \"),\n  /*#__PURE__*/_createTextVNode(\"\\n    \")\n], -1)\nconst _hoisted_3 = { class: \"section example\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"example-method\" }, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"callback-title\" }, \" Callbacks \", -1)\nconst _hoisted_6 = { class: \"items\" }\nconst _hoisted_7 = { class: \"item\" }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \" onLoad \", -1)\nconst _hoisted_9 = { class: \"item\" }\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \" validCard \", -1)\nconst _hoisted_11 = { class: \"item\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \" achOnChange \", -1)\nconst _hoisted_13 = { class: \"item\" }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \" magStripeSwipe \", -1)\nconst _hoisted_15 = { class: \"item\" }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \" submission \", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.submit()))\n      }, \" Pay \"),\n      _hoisted_5,\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"div\", _hoisted_7, [\n          _hoisted_8,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.onLoad), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_9, [\n          _hoisted_10,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.validCard), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          _hoisted_12,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.achOnChange), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_13, [\n          _hoisted_14,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.magStripeSwipe), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_15, [\n          _hoisted_16,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.submission), 1)\n        ])\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent } from 'vue'\nimport Tokenizer from '@/tokenizer'\nimport { testapikey } from '@/docs/helpers/testkeys'\n\nexport default defineComponent({\n  name: 'Methods',\n  data () {\n    return {\n      example: (null as Tokenizer | null),\n      onLoad: false,\n      validCard: (null as any),\n      achOnChange: (null as any),\n      magStripeSwipe: (null as any),\n      submission: (null as any),\n    }\n  },\n  mounted () {\n    // Intiate a new tokenizer\n    this.example = new Tokenizer({\n      apikey: testapikey,\n      container: document.querySelector('.methods .example-method'),\n\n      // Callback to identify when iframe has been loaded\n      onLoad: () => { this.onLoad = true },\n      validCard: (card: any) => { this.validCard = card },\n      achOnChange: (data: any) => { this.achOnChange = data },\n      magStripeSwipe: (data: any) => { this.magStripeSwipe = data },\n      submission: (resp: any) => { this.submission = resp },\n\n      settings: {\n        user: {\n          showInline: true,\n          showName: true,\n          showTitle: true\n        },\n        payment: {\n          showTitle: true,\n          types: ['card', 'ach']\n          // ach: {\n          //   sec_code: 'ppd'\n          // }\n        }\n      }\n    })\n\n    // Set expiration date on card payment\n    this.example.setExpDate('09/12')\n\n    // Submit payment\n    this.example.submit()\n  },\n  methods: {\n    // Submit payment\n    submit () {\n      if (this.example) {\n        this.example.submit()\n      }\n    }\n  }\n})\n","import { render } from \"./methods.vue?vue&type=template&id=1fcd4ca0&ts=true\"\nimport script from \"./methods.vue?vue&type=script&lang=ts\"\nexport * from \"./methods.vue?vue&type=script&lang=ts\"\n\nimport \"./methods.vue?vue&type=style&index=0&id=1fcd4ca0&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["testapikey","_typeof","o","Symbol","iterator","constructor","prototype","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPropertyKey","arg","key","_defineProperty","obj","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","url","localDevUrl","pathUrl","Tokenizer","info","id","apikey","amount","Error","this","window","location","href","indexOf","replace","uuid","settings","onLoad","validCard","achOnChange","magStripeSwipe","onPaymentChange","submission","addEventListener","e","messageListener","iframe","buildIframe","waitForContainer","container","el","onload","setSettings","appendChild","create","isSurchargeable","state","bin","blacklist","toUpperCase","card_type","toLowerCase","submit","getGuardianData","then","guardianResult","events","length","postMessage","event","data","catch","setExpDate","expDate","msg","w","contentWindow","JSON","stringify","s4","Math","floor","random","toString","substring","selector","callback","startTimeInMs","Date","now","checkFrequencyInMs","timeoutInMs","loopSearch","document","querySelector","setTimeout","createElement","src","setAttribute","style","display","border","margin","padding","width","minWidth","height","overflow","backgroundColor","transition","frameBorder","updateHeight","g","Guardian","getData","Promise","reject","parse","type","_hoisted_1","class","_hoisted_2","_createElementVNode","_createTextVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","onClick","$event","_toDisplayString","defineComponent","name","example","mounted","card","resp","user","showInline","showName","showTitle","payment","types","methods","__exports__"],"sourceRoot":""}