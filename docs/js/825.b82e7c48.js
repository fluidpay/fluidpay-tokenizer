"use strict";(self["webpackChunkfluidpay_tokenizer"]=self["webpackChunkfluidpay_tokenizer"]||[]).push([[825],{507:function(e,t,n){n.d(t,{K:function(){return i}});const i="pub_0wUsHIlrkK1I6ADno5MfT10UjhR"},430:function(e,t,n){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function a(e){var t=s(e,"string");return"symbol"===i(t)?t:String(t)}function o(e,t,n){return t=a(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return d}});const r="{{formUrl}}",l="http://localhost:8082",u="/api/tokenizer";class d{constructor(e){if(o(this,"id",void 0),o(this,"apikey",void 0),o(this,"url",void 0),o(this,"amount",void 0),o(this,"iframe",void 0),o(this,"container",null),o(this,"settings",{id:"",apikey:"",amount:""}),o(this,"onLoad",(()=>{})),o(this,"validCard",(()=>{})),o(this,"achOnChange",(()=>{})),o(this,"magStripeSwipe",(()=>{})),o(this,"onPaymentChange",(()=>{})),o(this,"submission",(()=>{})),!e.apikey)throw new Error("apikey must be set!");this.apikey=e.apikey,this.url=e.url&&""!==e.url?e.url:r,e.url||-1===window.location.href.indexOf("localhost")?this.url=this.url.replace(/\/$/,"")+u:this.url=l.replace(/\/$/,"")+u,this.url+="/"+this.apikey,e.amount&&(this.amount=e.amount),this.id=this.uuid(),"object"===typeof e.settings&&(this.settings=e.settings),e.onLoad&&(this.onLoad=e.onLoad),e.validCard&&(this.validCard=e.validCard),e.achOnChange&&(this.achOnChange=e.achOnChange),e.magStripeSwipe&&(this.magStripeSwipe=e.magStripeSwipe),e.onPaymentChange&&(this.onPaymentChange=e.onPaymentChange),e.submission&&(this.submission=e.submission),window.addEventListener("message",(e=>{this.messageListener(e)})),this.iframe=this.buildIframe(),this.waitForContainer(e.container,(e=>{if(!e)throw new Error("Could not find container");this.iframe.onload=()=>{this.settings.id=this.id,this.settings.apikey=this.apikey,this.settings.amount=this.amount,this.setSettings(this.settings),this.onLoad()},this.container=e,this.container.appendChild(this.iframe)}))}create(){}isSurchargeable(e,t){const n=["CO","CT","ME","MA"];return""!==e&&(-1===n.indexOf(e.toUpperCase())&&!(!t||!t.card_type||"credit"!==t.card_type.toLowerCase()))}submit(e){this.getGuardianData().then((e=>{e.events?.length&&this.postMessage({event:"setGuardian",data:e})})).then((()=>{this.postMessage({event:"submit",data:{amount:e}})})).catch((()=>{this.postMessage({event:"submit",data:{amount:e}})}))}setExpDate(e){this.postMessage({event:"setExpDate",data:{value:e}})}postMessage(e){const t=this.iframe.contentWindow;if(null!==t){const n=JSON.stringify(e);t.postMessage(n,"*")}}uuid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}waitForContainer(e,t){if(!e)return void t(null);const n=Date.now(),i=1e3,s=1e4;(function a(){"string"!==typeof e||null===document.querySelector(e)?"string"!==typeof e&&e?t(e):setTimeout((()=>{s&&Date.now()-n>s?t(null):a()}),i):t(document.querySelector(e))})()}buildIframe(){const e=document.createElement("iframe");return e.src=this.url,e.setAttribute("allow","payment"),e.style.display="block",e.style.border="none",e.style.margin="0px",e.style.padding="0px",e.style.width="1px",e.style.minWidth="100%",e.style.height="30px",e.style.overflow="hidden",e.style.backgroundColor="transparent",e.style.transition="all .3s ease-out",e.frameBorder="0",e}setSettings(e){this.postMessage({event:"setSettings",data:e})}updateHeight(e){e&&(this.iframe.style.height=e+"px")}getGuardianData(){const e=window.Guardian;return e&&e.getData&&"function"===typeof e.getData?e.getData():Promise.reject()}messageListener(e){try{const t=JSON.parse(e.data),n=t.id;if(this.id!==n)return;const i=t.event,s=t.data;if(!i)return;switch(i){case"submission":this.submission(s);break;case"validCard":this.validCard(s);break;case"achOnChange":this.achOnChange(s);break;case"magStripeSwipe":this.magStripeSwipe(s);break;case"onPaymentChange":this.onPaymentChange(s.type);break;case"setHeight":this.updateHeight(s.height);break}}catch(e){}}}},825:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var i=n(252),s=n(577);const a={class:"main styled"},o=(0,i._)("pre",{class:"example-code"},[(0,i.Uk)("      "),(0,i._)("code",{class:"language-javascript"},"\n        // Example Code\n        var example = new Tokenizer({\n          apikey: 'key here',\n          container: document.querySelector('#div container'),\n          submission: (resp) => {\n            console.log(resp)\n          },\n          settings: {\n            // Styles object will get converted into a css style sheet.\n            // Inspect elements to see structured html elements\n            // and style them the same way you would in css.\n            styles: {\n              'body': {\n                'color': '#ffffff'\n              },\n              'input': {\n                'color': '#ffffff',\n                'border-radius': '8px',\n                'background-color': '#ffffff40',\n                'border': 'none'\n              },\n\n              // Example - style cvv to have full border box\n              '.payment .cvv input': {\n                'border': 'solid 1px #ffffff',\n                'padding-left': '6px'\n              }\n            }\n          }\n        })\n      "),(0,i.Uk)("\n    ")],-1),r={class:"section exampleBubble"},l=(0,i._)("div",{id:"exampleBubble"},null,-1),u={class:"section exampleLine"},d=(0,i._)("div",{id:"exampleLine"},null,-1);function c(e,t,n,c,p,f){return(0,i.wg)(),(0,i.iD)("div",a,[o,(0,i._)("div",r,[l,(0,i._)("button",{onClick:t[0]||(t[0]=t=>e.exampleBubble.submit())}," Pay "),(0,i._)("pre",null,(0,s.zw)(e.exampleBubbleResponse),1)]),(0,i._)("div",u,[d,(0,i._)("button",{onClick:t[1]||(t[1]=t=>e.exampleLine.submit())}," Pay "),(0,i._)("pre",null,(0,s.zw)(e.exampleLineResponse),1)])])}var p=n(430),f=n(507),h=(0,i.aZ)({name:"Styles",data(){return{exampleBubble:null,exampleBubbleResponse:"",exampleLine:null,exampleLineResponse:""}},mounted(){this.exampleBubble=new p.Z({apikey:f.K,container:document.querySelector("#exampleBubble"),submission:e=>{this.exampleBubbleResponse=e},settings:{styles:{body:{color:"#ffffff"},input:{color:"#ffffff","border-radius":"8px","background-color":"rgba(255, 255, 255, .2)",border:"none"}}}}),this.exampleLine=new p.Z({apikey:f.K,container:document.querySelector("#exampleLine"),submission:e=>{this.exampleLineResponse=e},settings:{styles:{body:{color:"#ffffff"},input:{color:"#ffffff","padding-left":"0px","border-radius":"0px",border:"none","border-bottom":"solid 1px #ffffff","background-color":"#525f7f"},".payment .cvv input":{border:"solid 1px #ffffff","padding-left":"6px"},"@media (max-width: 768px)":{"#tokenizer-form":{background:"blue"}}}}})}}),m=n(744);const b=(0,m.Z)(h,[["render",c]]);var y=b}}]);
//# sourceMappingURL=825.b82e7c48.js.map